{"id":"IUof","dependencies":[{"name":"C:\\Users\\hasit\\OneDrive\\Desktop\\MERN\\AI Chrome Extension Practice\\Webcam object detection\\package.json","includedInParent":true,"mtime":1690811958188},{"name":"C:\\Users\\hasit\\OneDrive\\Desktop\\MERN\\AI Chrome Extension Practice\\Webcam object detection\\node_modules\\@tensorflow\\tfjs-core\\package.json","includedInParent":true,"mtime":1690798819971},{"name":"../base","loc":{"line":17,"column":29,"index":732},"parent":"C:\\Users\\hasit\\OneDrive\\Desktop\\MERN\\AI Chrome Extension Practice\\Webcam object detection\\node_modules\\@tensorflow\\tfjs-core\\dist\\gradients\\Prod_grad.js","resolved":"C:\\Users\\hasit\\OneDrive\\Desktop\\MERN\\AI Chrome Extension Practice\\Webcam object detection\\node_modules\\@tensorflow\\tfjs-core\\dist\\base.js"},{"name":"../kernel_names","loc":{"line":18,"column":21,"index":764},"parent":"C:\\Users\\hasit\\OneDrive\\Desktop\\MERN\\AI Chrome Extension Practice\\Webcam object detection\\node_modules\\@tensorflow\\tfjs-core\\dist\\gradients\\Prod_grad.js","resolved":"C:\\Users\\hasit\\OneDrive\\Desktop\\MERN\\AI Chrome Extension Practice\\Webcam object detection\\node_modules\\@tensorflow\\tfjs-core\\dist\\kernel_names.js"},{"name":"../ops/cumprod","loc":{"line":19,"column":24,"index":807},"parent":"C:\\Users\\hasit\\OneDrive\\Desktop\\MERN\\AI Chrome Extension Practice\\Webcam object detection\\node_modules\\@tensorflow\\tfjs-core\\dist\\gradients\\Prod_grad.js","resolved":"C:\\Users\\hasit\\OneDrive\\Desktop\\MERN\\AI Chrome Extension Practice\\Webcam object detection\\node_modules\\@tensorflow\\tfjs-core\\dist\\ops\\cumprod.js"},{"name":"../ops/mul","loc":{"line":20,"column":20,"index":845},"parent":"C:\\Users\\hasit\\OneDrive\\Desktop\\MERN\\AI Chrome Extension Practice\\Webcam object detection\\node_modules\\@tensorflow\\tfjs-core\\dist\\gradients\\Prod_grad.js","resolved":"C:\\Users\\hasit\\OneDrive\\Desktop\\MERN\\AI Chrome Extension Practice\\Webcam object detection\\node_modules\\@tensorflow\\tfjs-core\\dist\\ops\\mul.js"},{"name":"../ops/reshape","loc":{"line":21,"column":24,"index":883},"parent":"C:\\Users\\hasit\\OneDrive\\Desktop\\MERN\\AI Chrome Extension Practice\\Webcam object detection\\node_modules\\@tensorflow\\tfjs-core\\dist\\gradients\\Prod_grad.js","resolved":"C:\\Users\\hasit\\OneDrive\\Desktop\\MERN\\AI Chrome Extension Practice\\Webcam object detection\\node_modules\\@tensorflow\\tfjs-core\\dist\\ops\\reshape.js"},{"name":"../ops/transpose","loc":{"line":22,"column":26,"index":927},"parent":"C:\\Users\\hasit\\OneDrive\\Desktop\\MERN\\AI Chrome Extension Practice\\Webcam object detection\\node_modules\\@tensorflow\\tfjs-core\\dist\\gradients\\Prod_grad.js","resolved":"C:\\Users\\hasit\\OneDrive\\Desktop\\MERN\\AI Chrome Extension Practice\\Webcam object detection\\node_modules\\@tensorflow\\tfjs-core\\dist\\ops\\transpose.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.prodGradConfig=void 0;var e=require(\"../base\"),r=require(\"../kernel_names\"),s=require(\"../ops/cumprod\"),t=require(\"../ops/mul\"),n=require(\"../ops/reshape\"),o=require(\"../ops/transpose\");function u(e,r,o){const u=e.shape.slice();u[o]=1;const p=(0,n.reshape)(r,u),a=(0,s.cumprod)(e,o,!0,!1),l=(0,s.cumprod)(e,o,!0,!0),i=(0,t.mul)(a,l);return(0,t.mul)(p,i)}function p(r,s,t){const n=r.shape.length,p=n-t.length,a=e.backend_util.getAxesPermutation(t,n);let l=r;null!=a&&(l=(0,o.transpose)(r,a));const i=l.shape.slice(),c=i.splice(n-t.length,t.length).reduce((e,r)=>e*r,1);i.push(c);let d=u(l.reshape(i),s,p);if(d=d.reshape(l.shape),null!=a){const r=e.backend_util.getUndoAxesPermutation(a);d=(0,o.transpose)(d,r)}return d}const a={kernelName:r.Prod,inputsToSave:[\"x\"],gradFunc:(e,r,s)=>{const[t]=r,{axis:n}=s;let o=[];return o=null==n?t.shape.map((e,r)=>r):\"number\"==typeof n?[n]:n,{x:()=>p(t,e,o)}}};exports.prodGradConfig=a;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":105,"column":2},"generated":{"line":1,"column":0}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":105,"column":2},"generated":{"line":1,"column":13}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":105,"column":2},"generated":{"line":1,"column":20}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":105,"column":2},"generated":{"line":1,"column":35}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":105,"column":2},"generated":{"line":1,"column":43}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":105,"column":2},"generated":{"line":1,"column":56}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":105,"column":2},"generated":{"line":1,"column":57}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":105,"column":2},"generated":{"line":1,"column":64}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":105,"column":2},"generated":{"line":1,"column":68}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":105,"column":2},"generated":{"line":1,"column":76}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":105,"column":2},"generated":{"line":1,"column":96}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":1,"column":98}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":1,"column":102}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":1,"column":104}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":1,"column":112}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":123}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":125}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":133}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":21,"column":0},"generated":{"line":1,"column":152}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":21,"column":0},"generated":{"line":1,"column":154}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":21,"column":0},"generated":{"line":1,"column":162}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":180}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":182}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":190}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":204}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":206}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":214}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":24,"column":0},"generated":{"line":1,"column":232}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":24,"column":0},"generated":{"line":1,"column":234}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":24,"column":0},"generated":{"line":1,"column":242}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":28,"column":0},"generated":{"line":1,"column":262}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":28,"column":9},"generated":{"line":1,"column":271}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":28,"column":21},"generated":{"line":1,"column":273}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":28,"column":32},"generated":{"line":1,"column":275}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":28,"column":44},"generated":{"line":1,"column":277}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":32,"column":2},"generated":{"line":1,"column":280}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":32,"column":8},"generated":{"line":1,"column":286}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":32,"column":25},"generated":{"line":1,"column":288}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":32,"column":27},"generated":{"line":1,"column":290}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":32,"column":33},"generated":{"line":1,"column":296}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":33,"column":2},"generated":{"line":1,"column":304}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":33,"column":17},"generated":{"line":1,"column":306}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":33,"column":25},"generated":{"line":1,"column":309}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":36,"column":2},"generated":{"line":1,"column":311}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":36,"column":8},"generated":{"line":1,"column":317}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":36,"column":21},"generated":{"line":1,"column":320}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":36,"column":21},"generated":{"line":1,"column":322}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":36,"column":28},"generated":{"line":1,"column":324}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":36,"column":29},"generated":{"line":1,"column":333}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":36,"column":33},"generated":{"line":1,"column":335}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":37,"column":8},"generated":{"line":1,"column":338}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":37,"column":19},"generated":{"line":1,"column":341}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":37,"column":19},"generated":{"line":1,"column":343}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":37,"column":26},"generated":{"line":1,"column":345}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":37,"column":27},"generated":{"line":1,"column":354}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":37,"column":30},"generated":{"line":1,"column":356}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":37,"column":36},"generated":{"line":1,"column":359}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":37,"column":42},"generated":{"line":1,"column":362}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":38,"column":8},"generated":{"line":1,"column":365}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":38,"column":22},"generated":{"line":1,"column":368}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":38,"column":22},"generated":{"line":1,"column":370}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":38,"column":29},"generated":{"line":1,"column":372}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":38,"column":30},"generated":{"line":1,"column":381}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":38,"column":33},"generated":{"line":1,"column":383}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":38,"column":39},"generated":{"line":1,"column":386}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":38,"column":45},"generated":{"line":1,"column":389}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":39,"column":8},"generated":{"line":1,"column":392}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":39,"column":13},"generated":{"line":1,"column":395}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":39,"column":13},"generated":{"line":1,"column":397}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":39,"column":16},"generated":{"line":1,"column":399}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":39,"column":17},"generated":{"line":1,"column":404}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":39,"column":27},"generated":{"line":1,"column":406}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":40,"column":2},"generated":{"line":1,"column":409}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":40,"column":9},"generated":{"line":1,"column":416}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":40,"column":9},"generated":{"line":1,"column":418}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":40,"column":12},"generated":{"line":1,"column":420}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":40,"column":13},"generated":{"line":1,"column":425}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":40,"column":25},"generated":{"line":1,"column":427}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":46,"column":0},"generated":{"line":1,"column":430}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":46,"column":9},"generated":{"line":1,"column":439}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":46,"column":22},"generated":{"line":1,"column":441}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":46,"column":33},"generated":{"line":1,"column":443}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":46,"column":45},"generated":{"line":1,"column":445}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":48,"column":2},"generated":{"line":1,"column":448}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":48,"column":8},"generated":{"line":1,"column":454}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":48,"column":16},"generated":{"line":1,"column":456}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":48,"column":18},"generated":{"line":1,"column":458}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":48,"column":24},"generated":{"line":1,"column":464}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":49,"column":8},"generated":{"line":1,"column":471}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":49,"column":24},"generated":{"line":1,"column":473}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":49,"column":32},"generated":{"line":1,"column":475}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":49,"column":37},"generated":{"line":1,"column":477}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":50,"column":8},"generated":{"line":1,"column":484}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":50,"column":23},"generated":{"line":1,"column":486}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":50,"column":35},"generated":{"line":1,"column":488}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":50,"column":36},"generated":{"line":1,"column":501}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":50,"column":55},"generated":{"line":1,"column":520}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":50,"column":61},"generated":{"line":1,"column":522}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":51,"column":2},"generated":{"line":1,"column":525}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":51,"column":6},"generated":{"line":1,"column":529}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":51,"column":18},"generated":{"line":1,"column":531}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":52,"column":22},"generated":{"line":1,"column":533}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":52,"column":6},"generated":{"line":1,"column":539}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":53,"column":4},"generated":{"line":1,"column":543}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":53,"column":16},"generated":{"line":1,"column":546}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":53,"column":16},"generated":{"line":1,"column":548}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":53,"column":25},"generated":{"line":1,"column":550}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":53,"column":26},"generated":{"line":1,"column":561}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":53,"column":29},"generated":{"line":1,"column":563}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":58,"column":2},"generated":{"line":1,"column":567}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":58,"column":8},"generated":{"line":1,"column":573}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":58,"column":19},"generated":{"line":1,"column":575}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":58,"column":29},"generated":{"line":1,"column":577}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":58,"column":35},"generated":{"line":1,"column":583}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":60,"column":8},"generated":{"line":1,"column":591}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":59,"column":23},"generated":{"line":1,"column":593}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":59,"column":32},"generated":{"line":1,"column":595}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":59,"column":39},"generated":{"line":1,"column":602}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":59,"column":47},"generated":{"line":1,"column":604}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":59,"column":52},"generated":{"line":1,"column":606}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":59,"column":60},"generated":{"line":1,"column":613}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":59,"column":65},"generated":{"line":1,"column":615}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":60,"column":36},"generated":{"line":1,"column":623}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":60,"column":43},"generated":{"line":1,"column":630}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":60,"column":44},"generated":{"line":1,"column":631}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":60,"column":47},"generated":{"line":1,"column":633}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":60,"column":53},"generated":{"line":1,"column":637}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":60,"column":57},"generated":{"line":1,"column":639}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":60,"column":60},"generated":{"line":1,"column":641}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":61,"column":2},"generated":{"line":1,"column":644}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":61,"column":11},"generated":{"line":1,"column":646}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":61,"column":16},"generated":{"line":1,"column":651}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":63,"column":2},"generated":{"line":1,"column":654}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":63,"column":6},"generated":{"line":1,"column":658}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":63,"column":17},"generated":{"line":1,"column":660}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":62,"column":28},"generated":{"line":1,"column":662}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":62,"column":38},"generated":{"line":1,"column":664}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":62,"column":46},"generated":{"line":1,"column":672}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":63,"column":48},"generated":{"line":1,"column":675}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":63,"column":52},"generated":{"line":1,"column":677}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":68,"column":2},"generated":{"line":1,"column":680}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":67,"column":2},"generated":{"line":1,"column":683}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":67,"column":13},"generated":{"line":1,"column":685}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":67,"column":22},"generated":{"line":1,"column":687}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":67,"column":30},"generated":{"line":1,"column":695}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":67,"column":40},"generated":{"line":1,"column":697}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":68,"column":22},"generated":{"line":1,"column":704}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":68,"column":6},"generated":{"line":1,"column":710}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":68,"column":28},"generated":{"line":1,"column":712}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":69,"column":4},"generated":{"line":1,"column":713}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":69,"column":10},"generated":{"line":1,"column":719}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":69,"column":28},"generated":{"line":1,"column":721}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":69,"column":40},"generated":{"line":1,"column":723}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":69,"column":41},"generated":{"line":1,"column":736}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":69,"column":64},"generated":{"line":1,"column":759}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":70,"column":4},"generated":{"line":1,"column":762}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":70,"column":15},"generated":{"line":1,"column":765}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":70,"column":15},"generated":{"line":1,"column":767}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":70,"column":24},"generated":{"line":1,"column":769}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":70,"column":25},"generated":{"line":1,"column":780}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":70,"column":35},"generated":{"line":1,"column":782}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":72,"column":2},"generated":{"line":1,"column":785}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":72,"column":9},"generated":{"line":1,"column":792}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":89,"column":7},"generated":{"line":1,"column":794}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":89,"column":13},"generated":{"line":1,"column":800}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":89,"column":42},"generated":{"line":1,"column":802}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":90,"column":2},"generated":{"line":1,"column":803}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":90,"column":14},"generated":{"line":1,"column":814}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":90,"column":18},"generated":{"line":1,"column":816}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":91,"column":2},"generated":{"line":1,"column":821}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":91,"column":16},"generated":{"line":1,"column":834}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":91,"column":17},"generated":{"line":1,"column":835}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":92,"column":2},"generated":{"line":1,"column":840}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":92,"column":12},"generated":{"line":1,"column":849}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":92,"column":13},"generated":{"line":1,"column":850}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":92,"column":34},"generated":{"line":1,"column":852}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":92,"column":51},"generated":{"line":1,"column":854}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":93,"column":4},"generated":{"line":1,"column":859}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":93,"column":11},"generated":{"line":1,"column":865}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":93,"column":16},"generated":{"line":1,"column":868}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":94,"column":10},"generated":{"line":1,"column":871}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":94,"column":11},"generated":{"line":1,"column":876}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":94,"column":20},"generated":{"line":1,"column":879}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":95,"column":4},"generated":{"line":1,"column":881}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":95,"column":8},"generated":{"line":1,"column":885}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":95,"column":18},"generated":{"line":1,"column":887}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":103,"column":4},"generated":{"line":1,"column":890}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":97,"column":6},"generated":{"line":1,"column":897}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":96,"column":8},"generated":{"line":1,"column":899}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":96,"column":8},"generated":{"line":1,"column":905}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":97,"column":16},"generated":{"line":1,"column":907}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":97,"column":18},"generated":{"line":1,"column":909}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":97,"column":24},"generated":{"line":1,"column":915}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":97,"column":28},"generated":{"line":1,"column":919}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":97,"column":29},"generated":{"line":1,"column":920}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":97,"column":32},"generated":{"line":1,"column":922}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":97,"column":38},"generated":{"line":1,"column":926}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":98,"column":31},"generated":{"line":1,"column":929}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":98,"column":22},"generated":{"line":1,"column":946}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":99,"column":16},"generated":{"line":1,"column":948}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":99,"column":17},"generated":{"line":1,"column":949}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":101,"column":16},"generated":{"line":1,"column":952}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":103,"column":11},"generated":{"line":1,"column":954}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":103,"column":12},"generated":{"line":1,"column":955}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":103,"column":15},"generated":{"line":1,"column":957}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":103,"column":21},"generated":{"line":1,"column":961}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":103,"column":34},"generated":{"line":1,"column":963}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":103,"column":37},"generated":{"line":1,"column":965}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":103,"column":51},"generated":{"line":1,"column":967}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":105,"column":2},"generated":{"line":1,"column":973}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":105,"column":2},"generated":{"line":1,"column":981}},{"source":"../../../../../../tfjs-core/src/gradients/Prod_grad.ts","name":null,"original":{"line":105,"column":2},"generated":{"line":1,"column":996}}],"sources":{"../../../../../../tfjs-core/src/gradients/Prod_grad.ts":"/**\n * @license\n * Copyright 2022 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {backend_util} from '../base';\nimport {Prod, ProdAttrs} from '../kernel_names';\nimport {GradConfig, NamedAttrMap} from '../kernel_registry';\nimport {cumprod} from '../ops/cumprod';\nimport {mul} from '../ops/mul';\nimport {reshape} from '../ops/reshape';\nimport {transpose} from '../ops/transpose';\nimport {Tensor} from '../tensor';\n\n// Gradient for product operation on a single axis.\nfunction prodGradFn_(x: Tensor, dy: Tensor, axis: number): Tensor {\n  // The gradient tensor (dy) has a set of axes removed, so we create re-shaped\n  // versions (of size 1) for the removed axis; this supports broadcasting over\n  // those dimensions.\n  const expandedYShape = x.shape.slice();\n  expandedYShape[axis] = 1;\n\n  // The actual gradient computation.\n  const expandedDy = reshape(dy, expandedYShape);\n  const xCumProd = cumprod(x, axis, true, false);\n  const xCumRevProd = cumprod(x, axis, true, true);\n  const dx = mul(xCumProd, xCumRevProd);\n  return mul(expandedDy, dx);\n}\n\n// Support gradients when the product is done on many axes at once.\n// This done py pushing all the axes on which the product is applied into a\n// single axis.\nfunction prodsGradFn_(x: Tensor, dy: Tensor, axis: number[]): Tensor {\n  // Move all axes for doing prod over to the end of the tensor.\n  const xRank = x.shape.length;\n  const finalProdAxis = xRank - axis.length;\n  const xPermutation = backend_util.getAxesPermutation(axis, xRank);\n  let permutedX = x;\n  if (xPermutation != null) {\n    permutedX = transpose(x, xPermutation);\n  }\n\n  // Reshape all the prod dimensions into a single one, and do compute prod\n  // gradients on that.\n  const newShape = permutedX.shape.slice();\n  const removedShape = newShape.splice(xRank - axis.length, axis.length);\n  const endPartShape = removedShape.reduce((p, c) => p * c, 1);\n  newShape.push(endPartShape);\n  const reshapedPermutedX = permutedX.reshape(newShape);\n  let prodGrad = prodGradFn_(reshapedPermutedX, dy, finalProdAxis);\n\n  // Undo the re-shaping now we have the dx vector, and permute back to\n  // original axes order.\n  prodGrad = prodGrad.reshape(permutedX.shape);\n  if (xPermutation != null) {\n    const undoPermutation = backend_util.getUndoAxesPermutation(xPermutation);\n    prodGrad = transpose(prodGrad, undoPermutation);\n  }\n  return prodGrad;\n}\n\n// Running example:\n// [\n//   [\n//     [3.0, 4.0],\n//     [5.0, 6.0],\n//     [7.0, 8.0]\n//   ],\n//   [\n//     [3.0, 5.0],\n//     [0.0, 6.0],\n//     [5.0, 6.0]\n//   ]\n// ]\n//\nexport const prodGradConfig: GradConfig = {\n  kernelName: Prod,\n  inputsToSave: ['x'],\n  gradFunc: (dy: Tensor|Tensor[], saved: Tensor[], attrs: NamedAttrMap) => {\n    const [x] = saved;\n    const {axis} = (attrs as {}) as ProdAttrs;\n    let axisArr = [] as number[];\n    if (axis === undefined || axis === null) {\n      axisArr = x.shape.map((_, i) => i);\n    } else if (typeof axis === 'number') {\n      axisArr = [axis];\n    } else {\n      axisArr = axis;\n    }\n    return {x: () => prodsGradFn_(x, dy as Tensor, axisArr)};\n  }\n};\n"},"lineCount":null}},"error":null,"hash":"773b82b339f7a1b6b93aaf940a097b82","cacheData":{"env":{}}}